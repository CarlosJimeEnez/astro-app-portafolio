---
import { Button } from "@/components/ui/button";
import { Github, Linkedin, Mail } from "lucide-react";
import { Image } from "astro:assets";
import ThemeToggle from "@/components/ThemeToggle.astro";
---

<nav class="w-full border-b border-gray-200 dark:border-gray-800 ">
  <div class="container mx-auto flex justify-between items-center px-4 py-4">
    <div class="flex items-center justify-center gap-2">
        <span class="text-xl font-bold">Carlos Jiménez</span>
        <!-- <Image src="/WCode.svg" alt="Logo" width={24} height={24} /> -->
    </div>
    <div class="flex gap-8">
        <a href="#proyectos" class="leading-none font-semibold hover:text-gray-600 dark:hover:text-gray-400">🚀 Mis proyectos</a>
        <a href="#experiencia" class="leading-none font-semibold hover:text-gray-600 dark:hover:text-gray-400">💼 Mi experiencia</a>
    </div>
    <div class="flex gap-2 items-center">
        <ThemeToggle />
        <a
            href="https://github.com/CarlosJimeEnez"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Perfil de GitHub de José Carlos"
        >
            <Button variant="ghost" size="lg" className="p-5 hover:text-primary"
                ><Github size={48} /></Button
            >
        </a>
        <a
            href="https://www.linkedin.com/in/jos%C3%A9-carlos-jim%C3%A9nez-pe%C3%B1a/"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Perfil de LinkedIn de José Carlos"
        >
            <Button variant="ghost" size="lg" className="p-5 hover:text-primary"
                ><Linkedin size={48} /></Button
            >
        </a>
        <a
            href="mailto:jc.jimenez.pena@outlook.com"
            aria-label="Email"
            class="hover:text-primary"
        >
            <Button variant="ghost" size="lg" className="p-5 hover:text-primary"
                ><Mail size={48} /></Button
            >
        </a>
        <a
            href="https://wa.me/5213312655666"
            aria-label="WhatsApp"
            class="hover:text-primary"
        >
        </a>
    </div>
  </div>
</nav>
<slot />

<script>
  // Script para manejar el desplazamiento suave con Tailwind
  document.addEventListener('DOMContentLoaded', function() {
    const links = document.querySelectorAll('a[href^="#"]');
    
    links.forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        const href = this.getAttribute('href');
        if (!href || href === '#') return;
        
        const targetElement = document.querySelector(href);
        if (!targetElement) return;
        
        // Calcular la posición de desplazamiento
        const headerOffset = 80;
        const elementPosition = targetElement.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        
        // Desplazamiento suave
        window.scrollTo({
          top: offsetPosition,
          behavior: 'smooth'
        });
        
        // Añadir clases de Tailwind para la animación
        targetElement.classList.add(
          'transition-all', 
          'duration-1000', 
          'ease-out', 
          'bg-primary/10', 
          'dark:bg-primary/20', 
          'shadow-lg', 
          'scale-[1.01]', 
          'rounded-lg'
        );
        
        // Eliminar clases después de la animación
        setTimeout(() => {
          targetElement.classList.remove(
            'bg-primary/10', 
            'dark:bg-primary/20', 
            'shadow-lg', 
            'scale-[1.01]'
          );
          
          // Añadir clases para la transición de salida
          targetElement.classList.add(
            'bg-transparent', 
            'shadow-none', 
            'scale-100'
          );
          
          // Eliminar todas las clases de animación después de completarse
          setTimeout(() => {
            targetElement.classList.remove(
              'transition-all', 
              'duration-1000', 
              'ease-out', 
              'bg-transparent', 
              'shadow-none', 
              'scale-100',
              'rounded-lg'
            );
          }, 1000);
        }, 1000);
      });
    });
  });
</script>
